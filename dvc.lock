schema: '2.0'
stages:
  process_data:
    cmd: python src/process.py
    deps:
    - path: data/raw/customer_support_tickets.csv
      md5: 3597b88e44038ae8bcc716b208e6e7c1
      size: 3945533
    - path: src/process.py
      md5: 780e16de63d749695e50ccb7c80db64d
      size: 1807
    params:
      params.yaml:
        process.raw_file: data/raw/customer_support_tickets.csv
    outs:
    - path: data/processed/
      md5: 87abe8c30b930578d6244d12fd5f7aa8.dir
      size: 2615072
      nfiles: 1
  train_test_data:
    cmd: python src/train_test_split.py
    deps:
    - path: data/processed/customer_support_tickets_processed.csv
      md5: cdb9c07e12b1953f3bfd10310a37fe74
      size: 2615072
    - path: src/train_test_split.py
      md5: 07fdc3b2b54d5f9c11ae25f7c36ff91f
      size: 903
    params:
      params.yaml:
        train_test_split.test_size: 0.33
    outs:
    - path: data/testing
      md5: 672ee24b8e8eb7e9bc39942735025cff.dir
      size: 1754573
      nfiles: 1
    - path: data/training
      md5: 53bfcd28f690901063c6980ce98e5567.dir
      size: 1754573
      nfiles: 1
  train_test_split:
    cmd: python src/train_test_split.py
    deps:
    - path: data/processed/customer_support_tickets_processed.csv
      md5: cdb9c07e12b1953f3bfd10310a37fe74
      size: 2615072
    - path: src/train_test_split.py
      md5: 07fdc3b2b54d5f9c11ae25f7c36ff91f
      size: 903
    params:
      params.yaml:
        train_test_split.test_size: 0.33
    outs:
    - path: data/testing
      md5: 672ee24b8e8eb7e9bc39942735025cff.dir
      size: 1754573
      nfiles: 1
    - path: data/training
      md5: 53bfcd28f690901063c6980ce98e5567.dir
      size: 1754573
      nfiles: 1
  train:
    cmd: python src/train.py
    deps:
    - path: data/training/training.csv
      md5: afa2675f3f36a1b61a4436549d141eec
      size: 1754573
    - path: src/train.py
      md5: a52b6ce1a6fa164337d32c1aae49c1f7
      size: 1239
    params:
      params.yaml:
        train.output_file: models/model.pkl
        train.training_file: data/training/training.csv
    outs:
    - path: models/model.pkl
      md5: 702a86a340c369a738a43664f826b020
      size: 112573
  evaluate:
    cmd: python src/evaluation.py
    deps:
    - path: data/testing/test.csv
      md5: afa2675f3f36a1b61a4436549d141eec
      size: 1754573
    - path: models/model.pkl
      md5: 702a86a340c369a738a43664f826b020
      size: 112573
    - path: src/evaluation.py
      md5: 94aef3f7a1601dbea9d6ac7e27f6b647
      size: 924
    params:
      params.yaml:
        evaluate.model_file: models/model.pkl
        evaluate.test_file: data/testing/test.csv
    outs:
    - path: metrics/test_metrics.json
      md5: e9f91376ea5d403b46dcdeb84d1b522f
      size: 1206
